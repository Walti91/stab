<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/graduationDates/layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
	<!--
	Copyright (C) 2016  Florian Waltenberger

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
 	 -->
    <ui:param name="overviewActive" value="ui-tabs-selected ui-state-active" />
	<ui:define name="furtherContent">
		<h:form id="graduationDatesDatesForm">
			<fieldset class="nonStyledFieldset">
				<ol>
					<li>
						<h:outputLabel for="dates" class="required">#{messages['labelExaminationDates']}</h:outputLabel>
						<c:forEach items="#{gdOverview.dates}" var="date">
							<div class="dateWrapper">
								<h:inputText name="date" value="#{date}" disabled="true" class="xLargeInput">
									<f:convertDateTime pattern="#{messages['dateFormat']}" />
								</h:inputText>
								<h:commandButton id="removeDate" name="removeDate" value="#{messages['labelRemove']}" action="#{gdOverview.removeDate(date)}">
									<f:ajax execute="@this" render="@form :globalMessagesPanel" />
								</h:commandButton>
							</div>
						</c:forEach>
						<div class="dateWrapper">
							<h:inputText id="newDate" name="newDate" value="#{gdOverview.newDate}" class="xLargeInput">
								<f:convertDateTime pattern="#{messages['dateFormat']}" />
							</h:inputText>
							<h:commandButton id="addDate" name="addDate" value="#{messages['labelAdd']}" action="#{gdOverview.addDate()}">
								<f:ajax execute="newDate" render="@form :globalMessagesPanel" />
							</h:commandButton>
						</div>
					</li>
				</ol>
			</fieldset>
		</h:form>
		<h:form id="graduationDatesOverviewForm">
			<fieldset>
				<ol>
					<li>
						<h:outputLabel for="registrationFrom" class="required">#{messages['labelRegistrationFrom']}</h:outputLabel>
						<h:inputText id="registrationFrom" name="registrationFrom" value="#{gdOverview.registrationFrom}" class="xLargeInput">
							<f:convertDateTime pattern="#{messages['dateFormat']}" />
						</h:inputText>
					</li>
					<li>
						<h:outputLabel for="registrationTo" class="required">#{messages['labelRegistrationTo']}</h:outputLabel>
						<h:inputText id="registrationTo" name="registrationTo" value="#{gdOverview.registrationTo}" class="xLargeInput">
							<f:convertDateTime pattern="#{messages['dateFormat']}" />
						</h:inputText>
					</li>
					<li>
						<h:outputLabel for="submissionFrom">#{messages['labelSubmissionFrom']}</h:outputLabel>
						<h:inputText id="submissionFrom" name="submissionFrom" value="#{gdOverview.submissionFrom}" class="xLargeInput">
							<f:convertDateTime pattern="#{messages['dateFormat']}" />
						</h:inputText>
					</li>
					<li>
						<h:outputLabel for="submissionTo">#{messages['labelSubmissionTo']}</h:outputLabel>
						<h:inputText id="submissionTo" name="submissionTo" value="#{gdOverview.submissionTo}" class="xLargeInput">
							<f:convertDateTime pattern="#{messages['dateFormat']}" />
						</h:inputText>
					</li>
					<li>
						<h:outputLabel for="pickupFrom">#{messages['labelPickupFrom']}</h:outputLabel>
						<h:inputText id="pickupFrom" name="pickupFrom" value="#{gdOverview.pickupFrom}" class="xLargeInput">
							<f:convertDateTime pattern="#{messages['dateFormat']}" />
						</h:inputText>
					</li>
					<li>
						<h:outputLabel for="pickupTo">#{messages['labelPickupTo']}</h:outputLabel>
						<h:inputText id="pickupTo" name="pickupTo" value="#{gdOverview.pickupTo}" class="xLargeInput">
							<f:convertDateTime pattern="#{messages['dateFormat']}" />
						</h:inputText>
					</li>
					<li>
						<h:outputLabel for="notes">#{messages['labelNotes']}</h:outputLabel>
						<h:inputText id="notes" name="notes" value="#{gdOverview.notes}" class="xLargeInput" />
					</li>
					<li>
						<h:commandButton id="saveGraduationDate" name="saveGraduationDate" value="#{messages['labelSave']}" action="#{gdOverview.saveGraduationDate()}" />
						<h:button id="back" name="back" value="#{messages['labelBack']}" outcome="/graduationDates/selection" />
					</li>
				</ol>
			</fieldset>
		</h:form>
	</ui:define>
</ui:composition>